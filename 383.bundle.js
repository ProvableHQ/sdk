/*! For license information please see 383.bundle.js.LICENSE.txt */
(self.webpackChunkaleo_website=self.webpackChunkaleo_website||[]).push([[383],{5052:(e,t,r)=>{r.a(e,(async(e,n)=>{try{r.d(t,{AleoKeyProvider:()=>p,AleoKeyProviderParams:()=>y,PrivateKey:()=>o._q,ProgramManager:()=>d,ProgramManagerBase:()=>o.L,initThreadPool:()=>o.CK,verifyFunctionExecution:()=>o.hz});var o=r(9933),i=e([o]);o=(i.then?(await i)():i)[0];async function a(e,t){const r=await fetch(e,t);if(!r.ok)throw new Error(r.status+" could not get URL "+e);return r}async function s(e,t){t.method="POST";const r=await fetch(e,t);if(!r.ok)throw new Error(r.status+" could not post URL "+e);return r}class f{host;headers;account;constructor(e,t){this.host=e+"/testnet",t&&t.headers?this.headers=t.headers:this.headers={"X-Aleo-SDK-Version":"0.6.12"}}setAccount(e){this.account=e}getAccount(){return this.account}setHost(e){this.host=e+"/testnet"}async fetchData(e="/"){try{const t=await a(this.host+e,{headers:this.headers});return await t.json()}catch(e){throw new Error("Error fetching data.")}}async findUnspentRecords(e,t,r,n,i,a){if(a=a||[],e<0)throw new Error("Start height must be greater than or equal to 0");const s=new Array;let c,u,l,h,f=0,y=BigInt(0);if(void 0===r){if(void 0===this.account)throw new Error("Private key must be specified in an argument to findOwnedRecords or set in the AleoNetworkClient");l=this.account._privateKey}else try{l=r instanceof o._q?r:o._q.from_string(r)}catch(e){throw new Error("Error parsing private key provided.")}const p=l.to_view_key();try{const e=await this.getLatestHeight();if("number"!=typeof e)throw new Error("Error fetching latest block height.");h=e}catch(e){throw new Error("Error fetching latest block height.")}if(u="number"==typeof t&&t<=h?t:h,e>u)throw new Error("Start height must be less than or equal to end height.");for(;u>e;){c=u-50,c<e&&(c=e);try{const e=await this.getBlockRange(c,u);if(u=c,!(e instanceof Error))for(let t=0;t<e.length;t++){const r=e[t].transactions;if(void 0!==r)for(let e=0;e<r.length;e++){const t=r[e];if("execute"==t.type){const e=t.transaction;if(e.execution&&void 0!==e.execution.transitions)for(let t=0;t<e.execution.transitions.length;t++){const r=e.execution.transitions[t];if("credits.aleo"===r.program&&void 0!==r.outputs)for(let e=0;e<r.outputs.length;e++){const t=r.outputs[e];if("record"===t.type)try{const e=o.fW.fromString(t.value);if(e.isOwner(p)){const t=e.decrypt(p),r=t.nonce();if(a.includes(r))continue;const o=t.serialNumberString(l,"credits.aleo","credits");try{await this.getTransitionId(o)}catch(e){if(!n&&(s.push(t),"number"==typeof i&&(y+=t.microcredits(),y>=BigInt(i))))return s;if(void 0!==n&&n.length>0){let e=0;if(t.microcredits()>n[e]){if(e+=1,s.push(t),"number"==typeof i&&(y+=t.microcredits(),y>=BigInt(i)))return s;if(s.length>=n.length)return s}}}}}catch(e){}}}}}}}catch(e){if(console.warn("Error fetching blocks in range: "+c.toString()+"-"+u.toString()),console.warn("Error: ",e),f+=1,f>10)return console.warn("10 failures fetching records reached. Returning records fetched so far"),s}}return s}async getBlock(e){try{return await this.fetchData("/block/"+e)}catch(e){throw new Error("Error fetching block.")}}async getBlockRange(e,t){try{return await this.fetchData("/blocks?start="+e+"&end="+t)}catch(r){throw new Error("Error fetching blocks between "+e+" and "+t+".")}}async getDeploymentTransactionIDForProgram(e){e instanceof o.$r&&(e=e.toString());try{return(await this.fetchData("/find/transactionID/deployment/"+e)).replace('"',"")}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getDeploymentTransactionForProgram(e){try{const t=await this.getDeploymentTransactionIDForProgram(e);return await this.getTransaction(t)}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getLatestBlock(){try{return await this.fetchData("/latest/block")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestCommittee(){try{return await this.fetchData("/committee/latest")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestHeight(){try{return await this.fetchData("/latest/height")}catch(e){throw new Error("Error fetching latest height.")}}async getProgram(e){try{return await this.fetchData("/program/"+e)}catch(e){throw new Error("Error fetching program")}}async getProgramObject(e){try{return o.$r.fromString(e)}catch(t){try{return o.$r.fromString(await this.getProgram(e))}catch(t){throw new Error(`${e} is neither a program name or a valid program`)}}}async getProgramImports(e){try{const t={},r=(e instanceof o.$r?e:await this.getProgramObject(e)).getImports();for(let e=0;e<r.length;e++){const n=r[e];if(!t.hasOwnProperty(n)){const e=await this.getProgram(n),r=await this.getProgramImports(n);for(const e in r)t.hasOwnProperty(e)||(t[e]=r[e]);t[n]=e}}return t}catch(e){throw h("Error fetching program imports: "+e)}}async getProgramImportNames(e){try{return(e instanceof o.$r?e:await this.getProgramObject(e)).getImports()}catch(e){throw new Error("Error fetching program imports with error: "+e)}}async getProgramMappingNames(e){try{return await this.fetchData("/program/"+e+"/mappings")}catch(e){throw new Error("Error fetching program mappings - ensure the program exists on chain before trying again")}}async getProgramMappingValue(e,t,r){try{return await this.fetchData("/program/"+e+"/mapping/"+t+"/"+r)}catch(e){throw new Error("Error fetching mapping value - ensure the mapping exists and the key is correct")}}async getStateRoot(){try{return await this.fetchData("/latest/stateRoot")}catch(e){throw new Error("Error fetching Aleo state root")}}async getTransaction(e){try{return await this.fetchData("/transaction/"+e)}catch(e){throw new Error("Error fetching transaction.")}}async getTransactions(e){try{return await this.fetchData("/block/"+e.toString()+"/transactions")}catch(e){throw new Error("Error fetching transactions.")}}async getTransactionsInMempool(){try{return await this.fetchData("/memoryPool/transactions")}catch(e){throw new Error("Error fetching transactions from mempool.")}}async getTransitionId(e){try{return await this.fetchData("/find/transitionID/"+e)}catch(e){throw new Error("Error fetching transition ID.")}}async submitTransaction(e){const t=e instanceof o.YW?e.toString():e;try{const e=await s(this.host+"/transaction/broadcast",{body:t,headers:Object.assign({},this.headers,{"Content-Type":"application/json"})});try{return await e.json()}catch(e){throw new Error(`Error posting transaction. Aleo network response: ${e.message}`)}}catch(e){throw new Error(`Error posting transaction: No response received: ${e.message}`)}}}class y{name;proverUri;verifierUri;cacheKey;constructor(e){this.proverUri=e.proverUri,this.verifierUri=e.verifierUri,this.cacheKey=e.cacheKey,this.name=e.name}}class p{cache;cacheOption;keyUris;async fetchBytes(e="/"){try{const t=await a(e),r=await t.arrayBuffer();return new Uint8Array(r)}catch(e){throw new Error("Error fetching data."+e)}}constructor(){this.keyUris=g,this.cache=new Map,this.cacheOption=!1}useCache(e){this.cacheOption=e}clearCache(){this.cache.clear()}cacheKeys(e,t){const[r,n]=t;this.cache.set(e,[r.toBytes(),n.toBytes()])}containsKeys(e){return this.cache.has(e)}deleteKeys(e){return this.cache.delete(e)}getKeys(e){if(console.debug(`Checking if key exists in cache. KeyId: ${e}`),this.cache.has(e)){const[t,r]=this.cache.get(e);return[o.zW.fromBytes(t),o.XV.fromBytes(r)]}return new Error("Key not found in cache.")}async functionKeys(e){if(e){let t,r,n;if("name"in e&&"string"==typeof e.name){let t=v.getKey(e.name);if(!(t instanceof Error))return this.fetchCreditsKeys(t)}if("proverUri"in e&&"string"==typeof e.proverUri&&(t=e.proverUri),"verifierUri"in e&&"string"==typeof e.verifierUri&&(r=e.verifierUri),"cacheKey"in e&&"string"==typeof e.cacheKey&&(n=e.cacheKey),t&&r)return await this.fetchRemoteKeys(t,r,n);if(n)return this.getKeys(n)}throw Error("Invalid parameters provided, must provide either a cacheKey and/or a proverUrl and a verifierUrl")}async fetchRemoteKeys(e,t,r){try{if(this.cacheOption){r||(r=e);const n=this.cache.get(r);if(void 0!==n)return[o.zW.fromBytes(n[0]),o.XV.fromBytes(n[1])];{console.debug("Fetching proving keys from url "+e);const n=o.zW.fromBytes(await this.fetchBytes(e));console.debug("Fetching verifying keys "+t);const i=await this.getVerifyingKey(t);return this.cache.set(r,[n.toBytes(),i.toBytes()]),[n,i]}}{const r=o.zW.fromBytes(await this.fetchBytes(e));return[r,await this.getVerifyingKey(t)]}}catch(r){throw new Error(`Error: ${r} fetching fee proving and verifying keys from ${e} and ${t}.`)}}async fetchProvingKey(e,t){try{if(this.cacheOption){t||(t=e);const r=this.cache.get(t);if(void 0!==r)return o.zW.fromBytes(r[0]);console.debug("Fetching proving keys from url "+e);return o.zW.fromBytes(await this.fetchBytes(e))}return o.zW.fromBytes(await this.fetchBytes(e))}catch(t){throw new Error(`Error: ${t} fetching fee proving keys from ${e}`)}}async fetchCreditsKeys(e){try{if(this.cache.has(e.locator)&&this.cacheOption){const t=this.cache.get(e.locator);return[o.zW.fromBytes(t[0]),o.XV.fromBytes(t[1])]}{const t=e.verifyingKey(),r=await this.fetchProvingKey(e.prover,e.locator);return this.cacheOption&&this.cache.set(v.bond_public.locator,[r.toBytes(),t.toBytes()]),[r,t]}}catch(e){throw new Error(`Error: fetching credits.aleo keys: ${e}`)}}async bondPublicKeys(){return this.fetchCreditsKeys(v.bond_public)}bondValidatorKeys(){return this.fetchCreditsKeys(v.bond_validator)}claimUnbondPublicKeys(){return this.fetchCreditsKeys(v.claim_unbond_public)}async transferKeys(e){if(b.has(e))return await this.fetchCreditsKeys(v.transfer_private);if(_.has(e))return await this.fetchCreditsKeys(v.transfer_private_to_public);if(P.has(e))return await this.fetchCreditsKeys(v.transfer_public);if(E.has(e))return await this.fetchCreditsKeys(v.transfer_public_as_signer);if(k.has(e))return await this.fetchCreditsKeys(v.transfer_public_to_private);throw new Error("Invalid visibility type")}async joinKeys(){return await this.fetchCreditsKeys(v.join)}async splitKeys(){return await this.fetchCreditsKeys(v.split)}async feePrivateKeys(){return await this.fetchCreditsKeys(v.fee_private)}async feePublicKeys(){return await this.fetchCreditsKeys(v.fee_public)}async getVerifyingKey(e){switch(e){case v.bond_public.verifier:return v.bond_public.verifyingKey();case v.bond_validator.verifier:return v.bond_validator.verifyingKey();case v.claim_unbond_public.verifier:return v.claim_unbond_public.verifyingKey();case v.fee_private.verifier:return v.fee_private.verifyingKey();case v.fee_public.verifier:return v.fee_public.verifyingKey();case v.inclusion.verifier:return v.inclusion.verifyingKey();case v.join.verifier:return v.join.verifyingKey();case v.set_validator_state.verifier:return v.set_validator_state.verifyingKey();case v.split.verifier:return v.split.verifyingKey();case v.transfer_private.verifier:return v.transfer_private.verifyingKey();case v.transfer_private_to_public.verifier:return v.transfer_private_to_public.verifyingKey();case v.transfer_public.verifier:return v.transfer_public.verifyingKey();case v.transfer_public_as_signer.verifier:return v.transfer_public_as_signer.verifyingKey();case v.transfer_public_to_private.verifier:return v.transfer_public_to_private.verifyingKey();case v.unbond_public.verifier:return v.unbond_public.verifyingKey();default:try{const t=await a(e),r=await t.text();return o.XV.fromString(r)}catch(t){try{return o.XV.fromBytes(await this.fetchBytes(e))}catch(e){return new Error("Invalid verifying key. Error: "+e)}}}}unBondPublicKeys(){return this.fetchCreditsKeys(v.unbond_public)}}class d{account;keyProvider;host;networkClient;recordProvider;constructor(e,t,r){this.host=e||"https://api.explorer.aleo.org/v1",this.networkClient=new f(this.host),this.keyProvider=t||new p,this.recordProvider=r}setAccount(e){this.account=e}setKeyProvider(e){this.keyProvider=e}setHost(e){this.host=e,this.networkClient.setHost(e)}setRecordProvider(e){this.recordProvider=e}async deploy(e,t,r,n,i,a){try{const t=o.$r.fromString(e);let r;try{r=await this.networkClient.getProgram(t.id())}catch(e){console.log(`Program ${t.id()} does not exist on the network, deploying...`)}if("string"==typeof r)throw`Program ${t.id()} already exists on the network, please rename your program`}catch(e){throw h(`Error validating program: ${e}`)}let s,c=a;if(void 0===a&&void 0!==this.account&&(c=this.account.privateKey()),void 0===c)throw"No private key provided and no private key set in the ProgramManager";try{i=r?await this.getCreditsRecord(t,[],i,n):void 0}catch(e){throw h(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{s=r?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw h(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[u,l]=s;let f;try{f=await this.networkClient.getProgramImports(e)}catch(e){throw h(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}const y=await o.L.buildDeploymentTransaction(c,e,t,i,this.host,f,u,l);return await this.networkClient.submitTransaction(y)}async buildExecutionTransaction(e){const{programName:t,functionName:r,fee:n,privateFee:i,inputs:a,recordSearchParams:s,keySearchParams:c,privateKey:u,offlineQuery:l}=e;let f=e.feeRecord,y=e.provingKey,p=e.verifyingKey,d=e.program,g=e.imports;if(void 0===d)try{d=await this.networkClient.getProgram(t)}catch(e){throw h(`Error finding ${t}. Network response: '${e}'. Please ensure you're connected to a valid Aleo network the program is deployed to the network.`)}else d instanceof o.$r&&(d=d.toString());let v,w=u;if(void 0===u&&void 0!==this.account&&(w=this.account.privateKey()),void 0===w)throw"No private key provided and no private key set in the ProgramManager";try{f=i?await this.getCreditsRecord(n,[],f,s):void 0}catch(e){throw h(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{v=i?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw h(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[m,b]=v;if(!y||!p)try{[y,p]=await this.keyProvider.functionKeys(c)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}if(o.$r.fromString(d).getImports().length>0&&!g)try{g=await this.networkClient.getProgramImports(t)}catch(e){throw h(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}return await o.L.buildExecutionTransaction(w,d,r,a,n,f,this.host,g,y,p,m,b,l)}async execute(e){const t=await this.buildExecutionTransaction(e);return await this.networkClient.submitTransaction(t)}async run(e,t,r,n,i,a,s,c,u,l){let h=u;if(void 0===u&&void 0!==this.account&&(h=this.account.privateKey()),void 0===h)throw"No private key provided and no private key set in the ProgramManager";if(!s||!c)try{[s,c]=await this.keyProvider.functionKeys(a)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}return console.log("Running program offline"),console.log("Proving key: ",s),console.log("Verifying key: ",c),o.L.executeFunctionOffline(h,e,t,r,n,!1,i,s,c,this.host,l)}async join(e,t,r,n,i,a,s,c){let u,l,f=s;if(void 0===s&&void 0!==this.account&&(f=this.account.privateKey()),void 0===f)throw"No private key provided and no private key set in the ProgramManager";try{u=n?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),l=await this.keyProvider.joinKeys()}catch(e){throw h(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[y,p]=u,[d,g]=l;try{a=n?await this.getCreditsRecord(r,[],a,i):void 0}catch(e){throw h(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{e=e instanceof o.PD?e:o.PD.fromString(e),t=t instanceof o.PD?t:o.PD.fromString(t)}catch(e){throw h("Records provided are not valid. Please ensure they are valid plaintext records.")}const v=await o.L.buildJoinTransaction(f,e,t,r,a,this.host,d,g,y,p,c);return await this.networkClient.submitTransaction(v)}async split(e,t,r,n){let i,a=r;if(void 0===a&&void 0!==this.account&&(a=this.account.privateKey()),void 0===a)throw"No private key provided and no private key set in the ProgramManager";try{i=await this.keyProvider.splitKeys()}catch(e){throw h(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[s,c]=i;try{t=t instanceof o.PD?t:o.PD.fromString(t)}catch(e){throw h("Record provided is not valid. Please ensure it is a valid plaintext record.")}const u=await o.L.buildSplitTransaction(a,e,t,this.host,s,c,n);return await this.networkClient.submitTransaction(u)}async synthesizeKeys(e,t,r,n){let i,a=n;void 0===a&&(a=void 0!==this.account?this.account.privateKey():new o._q);try{i=await this.networkClient.getProgramImports(e);const n=await o.L.synthesizeKeyPair(a,e,t,r,i);return[n.provingKey(),n.verifyingKey()]}catch(e){throw h(`Could not synthesize keys - error ${e}. Please ensure the program is valid and the inputs are correct.`)}}async buildTransferTransaction(e,t,r,n,i,a,s,l,f,y){r=u(r);let p,d,g=f;if(void 0===g&&void 0!==this.account&&(g=this.account.privateKey()),void 0===g)throw"No private key provided and no private key set in the ProgramManager";try{p=i?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),d=await this.keyProvider.transferKeys(r)}catch(e){throw h(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[v,w]=p,[m,b]=d;try{const e=[];c(r)?(s=await this.getCreditsRecord(n,[],s,a),e.push(s.nonce())):s=void 0,l=i?await this.getCreditsRecord(n,e,l,a):void 0}catch(e){throw h(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}return await o.L.buildTransferTransaction(g,e,t,r,s,n,l,this.host,m,b,v,w,y)}async buildTransferPublicTransaction(e,t,r,n,o){return this.buildTransferTransaction(e,t,"public",r,!1,void 0,void 0,void 0,n,o)}async buildTransferPublicAsSignerTransaction(e,t,r,n,o){return this.buildTransferTransaction(e,t,"public",r,!1,void 0,void 0,void 0,n,o)}async transfer(e,t,r,n,o,i,a,s,c,u){const l=await this.buildTransferTransaction(e,t,r,n,o,i,a,s,c,u);return await this.networkClient.submitTransaction(l)}async buildBondPublicTransaction(e,t,r,n,o={}){const i=Math.trunc(1e6*n),{programName:a="credits.aleo",functionName:s="bond_public",fee:c=o.fee||.86,privateFee:u=!1,inputs:l=[e,t,r,`${i.toString()}u64`],keySearchParams:h=new y({proverUri:v.bond_public.prover,verifierUri:v.bond_public.verifier,cacheKey:"credits.aleo/bond_public"}),program:f=this.creditsProgram(),...p}=o,d={programName:a,functionName:s,fee:c,privateFee:u,inputs:l,keySearchParams:h,...p};return await this.buildExecutionTransaction(d)}async bondPublic(e,t,r,n,o={}){const i=await this.buildBondPublicTransaction(e,t,r,n,o);return await this.networkClient.submitTransaction(i)}async buildBondValidatorTransaction(e,t,r,n,o={}){const i=Math.trunc(1e6*r),a=Math.trunc(n),{programName:s="credits.aleo",functionName:c="bond_validator",fee:u=o.fee||.86,privateFee:l=!1,inputs:h=[e,t,`${i.toString()}u64`,`${a.toString()}u8`],keySearchParams:f=new y({proverUri:v.bond_validator.prover,verifierUri:v.bond_validator.verifier,cacheKey:"credits.aleo/bond_validator"}),program:p=this.creditsProgram(),...d}=o,g={programName:s,functionName:c,fee:u,privateFee:l,inputs:h,keySearchParams:f,...d};return await this.buildExecutionTransaction(g)}async bondValidator(e,t,r,n,o={}){const i=await this.buildBondValidatorTransaction(e,t,r,n,o);return await this.networkClient.submitTransaction(i)}async buildUnbondPublicTransaction(e,t,r={}){const n=Math.trunc(1e6*t),{programName:o="credits.aleo",functionName:i="unbond_public",fee:a=r.fee||1.3,privateFee:s=!1,inputs:c=[e,`${n.toString()}u64`],keySearchParams:u=new y({proverUri:v.unbond_public.prover,verifierUri:v.unbond_public.verifier,cacheKey:"credits.aleo/unbond_public"}),program:l=this.creditsProgram(),...h}=r,f={programName:o,functionName:i,fee:a,privateFee:s,inputs:c,keySearchParams:u,...h};return this.buildExecutionTransaction(f)}async unbondPublic(e,t,r={}){const n=await this.buildUnbondPublicTransaction(e,t,r);return await this.networkClient.submitTransaction(n)}async buildClaimUnbondPublicTransaction(e,t={}){const{programName:r="credits.aleo",functionName:n="claim_unbond_public",fee:o=t.fee||2,privateFee:i=!1,inputs:a=[e],keySearchParams:s=new y({proverUri:v.claim_unbond_public.prover,verifierUri:v.claim_unbond_public.verifier,cacheKey:"credits.aleo/claim_unbond_public"}),program:c=this.creditsProgram(),...u}=t,l={programName:r,functionName:n,fee:o,privateFee:i,inputs:a,keySearchParams:s,...u};return await this.buildExecutionTransaction(l)}async claimUnbondPublic(e,t={}){const r=await this.buildClaimUnbondPublicTransaction(e,t);return await this.networkClient.submitTransaction(r)}async buildSetValidatorStateTransaction(e,t={}){const{programName:r="credits.aleo",functionName:n="set_validator_state",fee:o=1,privateFee:i=!1,inputs:a=[e.toString()],keySearchParams:s=new y({proverUri:v.set_validator_state.prover,verifierUri:v.set_validator_state.verifier,cacheKey:"credits.aleo/set_validator_state"}),...c}=t,u={programName:r,functionName:n,fee:o,privateFee:i,inputs:a,keySearchParams:s,...c};return await this.execute(u)}async setValidatorState(e,t={}){const r=await this.buildSetValidatorStateTransaction(e,t);return this.networkClient.submitTransaction(r)}verifyExecution(e){try{const t=e.getExecution(),r=e.getFunctionId(),n=e.getProgram(),i=e.getVerifyingKey();return(0,o.hz)(t,i,n,r)}catch(e){return console.warn("The execution was not found in the response, cannot verify the execution"),!1}}createProgramFromSource(e){return o.$r.fromString(e)}creditsProgram(){return o.$r.getCreditsProgram()}verifyProgram(e){try{return o.$r.fromString(e),!0}catch(e){return!1}}async getCreditsRecord(e,t,r,n){try{return r instanceof o.PD?r:o.PD.fromString(r)}catch(r){try{const r=this.recordProvider;return await r.findCreditsRecord(e,!0,t,n)}catch(e){throw h(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}}}}function c(e){return w.has(e)}function u(e){return m.has(e)?e:h(`Invalid transfer type '${e}'. Valid transfer types are 'private', 'privateToPublic', 'public', and 'publicToPrivate'.`)}const g=o.SF.baseUrl();function l(e){const t=o.XV[e.verifyingKey];if(!t)throw new Error("Invalid method name: "+e.verifyingKey);return{name:e.name,locator:e.locator,prover:e.prover,verifier:e.verifier,verifyingKey:t}}const v={bond_public:l(o.SF.bond_public()),bond_validator:l(o.SF.bond_validator()),claim_unbond_public:l(o.SF.claim_unbond_public()),fee_private:l(o.SF.fee_private()),fee_public:l(o.SF.fee_public()),inclusion:l(o.SF.inclusion()),join:l(o.SF.join()),set_validator_state:l(o.SF.set_validator_state()),split:l(o.SF.split()),transfer_private:l(o.SF.transfer_private()),transfer_private_to_public:l(o.SF.transfer_private_to_public()),transfer_public:l(o.SF.transfer_public()),transfer_public_as_signer:l(o.SF.transfer_public_as_signer()),transfer_public_to_private:l(o.SF.transfer_public_to_private()),unbond_public:l(o.SF.unbond_public()),getKey:function(e){return this.hasOwnProperty(e)?this[e]:new Error(`Key "${e}" not found.`)}},w=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic"]),m=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic","transfer_public","transfer_public_as_signer","public","public_as_signer","transferPublic","transferPublicAsSigner","transfer_public_to_private","publicToPrivate","publicAsSigner","transferPublicToPrivate"]),b=new Set(["private","transfer_private","transferPrivate"]),_=new Set(["private_to_public","privateToPublic","transfer_private_to_public","transferPrivateToPublic"]),P=new Set(["public","transfer_public","transferPublic"]),E=new Set(["public_as_signer","transfer_public_as_signer","transferPublicAsSigner"]),k=new Set(["public_to_private","publicToPrivate","transfer_public_to_private","transferPublicToPrivate"]);function h(e){throw console.error(e),e}n()}catch(K){n(K)}}))},5383:(e,t,r)=>{r.a(e,(async(e,t)=>{try{var n=r(5052),o=e([n]);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function l(e){if(Array.isArray(e))return e}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:x(e,r,s)}),a}function y(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",d="suspendedYield",g="executing",v="completed",w={};function m(){}function b(){}function _(){}var P={};l(P,s,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(F([])));k&&k!==r&&n.call(k,s)&&(P=k);var K=_.prototype=m.prototype=Object.create(P);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,s,c){var u=y(e[o],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==i(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=p;return function(i,a){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===w)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=y(t,r,n);if("normal"===u.type){if(o=n.done?v:d,u.arg===w)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function O(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),w;var i=y(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,w;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,w):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function F(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(i(t)+" is not iterable")}return b.prototype=_,o(K,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(K),e},t.awrap=function(e){return{__await:e}},T(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(K),l(K,u,"Generator"),l(K,s,(function(){return this})),l(K,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=F,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:F(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),w}},t}function f(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,s,"next",e)}function s(e){f(i,n,o,a,s,"throw",e)}a(void 0)}))}}n=(o.then?(await o)():o)[0],await n.initThreadPool();var p="https://api.explorer.aleo.org/v1",d=new n.AleoKeyProvider,g=new n.ProgramManager(p,d,void 0);d.useCache(!0),self.postMessage({type:"ALEO_WORKER_READY"});var v=null;self.addEventListener("message",(function(e){if("ALEO_EXECUTE_PROGRAM_LOCAL"===e.data.type){var t=e.data,r=t.localProgram,o=t.aleoFunction,i=t.inputs,c=t.privateKey;console.log("Web worker: Executing function locally...");var f=performance.now();y(h().mark((function e(){var t,a,s,u,l,y,p,w,m,b;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.PrivateKey.from_string(c),a=g.createProgramFromSource(r),s=a.id(),a.hasFunction(o)){e.next=6;break}throw"Program ".concat(s," does not contain function ").concat(o);case 6:if(u="".concat(s,":").concat(o),l=g.networkClient.getProgramImports(r),v===r){e.next=14;break}return e.next=11,g.synthesizeKeys(r,o,i,t);case 11:y=e.sent,g.keyProvider.cacheKeys(u,y),v=r;case 14:return p=new n.AleoKeyProviderParams({cacheKey:u}),e.next=17,g.run(r,o,i,!1,l,p,void 0,void 0,t,void 0);case 17:w=e.sent,console.log("Web worker: Local execution completed in ".concat(performance.now()-f," ms")),m=w.getOutputs(),(b=w.getExecution())?(n.verifyFunctionExecution(b,d.getKeys(u)[1],a,"hello"),b=b.toString(),console.log("Execution verified successfully: "+b)):b="",console.log("Function execution response: ".concat(m)),self.postMessage({type:"OFFLINE_EXECUTION_COMPLETED",outputs:{outputs:m,execution:b}}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 30:case"end":return e.stop()}}),e,null,[[0,26]])})))()}else if("ALEO_EXECUTE_PROGRAM_ON_CHAIN"===e.data.type){var w=e.data,m=w.remoteProgram,b=w.aleoFunction,_=w.inputs,P=w.privateKey,E=w.fee,k=w.privateFee,K=w.feeRecord,T=w.url;console.log("Web worker: Creating execution...");var S=performance.now();y(h().mark((function e(){var t,r,o,i,a,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.PrivateKey.from_string(P),e.next=4,g.networkClient.getProgramObject(m);case 4:if(r=e.sent,o=r.id(),r.hasFunction(b)){e.next=8;break}throw"Program ".concat(o," does not contain function ").concat(b);case 8:if(i="".concat(o,":").concat(b),g.keyProvider.containsKeys(i)){e.next=15;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(o,":").concat(b,"'")),e.next=13,g.synthesizeKeys(m,b,_,t);case 13:a=e.sent,g.keyProvider.cacheKeys(i,a);case 15:return s=new n.AleoKeyProviderParams({cacheKey:i}),"string"==typeof T&&g.setHost(T),e.next=19,g.execute({programName:o,functionName:b,fee:E,privateFee:k,inputs:_,keySearchParams:s,feeRecord:K,privateKey:t});case 19:c=e.sent,console.log("Web worker: On-chain execution transaction created in ".concat(performance.now()-S," ms")),self.postMessage({type:"EXECUTION_TRANSACTION_COMPLETED",executeTransaction:c}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error creating execution transaction: ".concat(e.t0)),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 28:return e.prev=28,g.setHost(p),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,24,28,31]])})))()}else if("ALEO_ESTIMATE_EXECUTION_FEE"===e.data.type){var x=e.data,O=x.remoteProgram,C=x.privateKey,N=x.aleoFunction,R=x.inputs,F=x.url;console.log("Web worker: Estimating execution fee...");var L=performance.now();y(h().mark((function e(){var t,r,o,i,c,f,y,p,d,v,w;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.PrivateKey.from_string(C),e.next=4,g.networkClient.getProgramObject(O);case 4:if(r=e.sent,o=r.id(),r.getFunctions().includes(N)){e.next=8;break}throw"Program ".concat(o," does not contain function ").concat(N);case 8:return i="".concat(o,":").concat(N),e.next=11,g.networkClient.getProgramImports(O);case 11:if(c=e.sent,g.keyProvider.containsKeys(i)){e.next=18;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(o,":").concat(N,"'")),e.next=16,g.synthesizeKeys(r.toString(),N,R,t);case 16:f=e.sent,g.keyProvider.cacheKeys(i,f);case 18:return y=g.keyProvider.getKeys(i),m=2,p=l(h=y)||u(h,m)||s(h,m)||a(),d=p[0],v=p[1],e.next=21,n.ProgramManagerBase.estimateExecutionFee(t,O,N,R,F,c,d,v,void 0);case 21:w=e.sent,console.log("Web worker: Execution fee estimated in ".concat(performance.now()-L," ms")),console.log("Execution Fee Estimation: ".concat(w," microcredits")),self.postMessage({type:"EXECUTION_FEE_ESTIMATION_COMPLETED",executionFee:Number(w)/1e6+.01}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 31:case"end":return e.stop()}var h,m}),e,null,[[0,27]])})))()}else if("ALEO_ESTIMATE_DEPLOYMENT_FEE"===e.data.type){var A=e.data,M=A.program;A.url;console.log("Web worker: Estimating deployment fee...");var I=performance.now();y(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.networkClient.getProgramImports(M);case 3:return t=e.sent,console.log("Estimating deployment fee.."),e.next=7,n.ProgramManagerBase.estimateDeploymentFee(M,t);case 7:r=e.sent,console.log("Web worker: Deployment fee estimation completed in ".concat(performance.now()-I," ms")),console.log("Deployment Fee Estimation: ".concat(r," microcredits")),self.postMessage({type:"DEPLOYMENT_FEE_ESTIMATION_COMPLETED",deploymentFee:Number(r)/1e6+.01}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}else if("ALEO_TRANSFER"===e.data.type){var D=e.data,$=D.privateKey,U=D.amountCredits,B=D.recipient,j=D.transfer_type,W=D.amountRecord,V=D.fee,z=D.privateFee,H=D.feeRecord,X=D.url;console.log("Web worker: Creating transfer of type ".concat(j,"..."));var G=performance.now();y(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof X&&g.setHost(X),e.next=4,g.transfer(U,B,j,V,z,void 0,W,H,n.PrivateKey.from_string($),void 0);case 4:t=e.sent,console.log("Web worker: Transfer transaction ".concat(t," created in ").concat(performance.now()-G," ms")),self.postMessage({type:"TRANSFER_TRANSACTION_COMPLETED",transferTransaction:t}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,g.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_DEPLOY"===e.data.type){var Y=e.data,q=Y.program,J=Y.privateKey,Q=Y.fee,Z=Y.privateFee,ee=Y.feeRecord,te=Y.url;console.log("Web worker: Creating deployment...");var re=performance.now();y(h().mark((function e(){var t,r,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof te&&g.setHost(te),t=g.createProgramFromSource(q),r=!1,e.prev=4,e.next=7,g.networkClient.getProgram(t.id());case 7:r=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Program not found on the Aleo Network - proceeding with deployment...");case 13:if(!r){e.next=15;break}throw"Program ".concat(t.id()," already exists on the network");case 15:return console.log("fee is: ",Q),e.next=18,g.deploy(q,Q,Z,void 0,ee,n.PrivateKey.from_string(J));case 18:o=e.sent,console.log("Web worker: Deployment transaction ".concat(o," created in ").concat(performance.now()-re," ms")),self.postMessage({type:"DEPLOY_TRANSACTION_COMPLETED",deployTransaction:o}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(0),console.log(e.t1),self.postMessage({type:"ERROR",errorMessage:e.t1.toString()});case 27:return e.prev=27,g.setHost(p),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30],[4,10]])})))()}else if("ALEO_SPLIT"===e.data.type){var ne=e.data,oe=ne.splitAmount,ie=ne.record,ae=ne.privateKey,se=ne.url;console.log("Web worker: Creating split...");var ce=performance.now();y(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof se&&g.setHost(se),e.next=4,g.split(oe,ie,n.PrivateKey.from_string(ae),void 0);case 4:t=e.sent,console.log("Web worker: Split transaction ".concat(t," created in ").concat(performance.now()-ce," ms")),self.postMessage({type:"SPLIT_TRANSACTION_COMPLETED",splitTransaction:t}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,g.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_JOIN"===e.data.type){var ue=e.data,le=ue.recordOne,he=ue.recordTwo,fe=ue.fee,ye=ue.privateFee,pe=ue.feeRecord,de=ue.privateKey,ge=ue.url;console.log("Web worker: Creating join...");var ve=performance.now();y(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof ge&&g.setHost(ge),e.next=4,g.join(le,he,fe,ye,void 0,pe,n.PrivateKey.from_string(de),void 0);case 4:t=e.sent,console.log("Web worker: Join transaction ".concat(t," created in ").concat(performance.now()-ve," ms")),self.postMessage({type:"JOIN_TRANSACTION_COMPLETED",joinTransaction:t}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,g.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}})),t()}catch(w){t(w)}}),1)}}]);
//# sourceMappingURL=383.bundle.js.map