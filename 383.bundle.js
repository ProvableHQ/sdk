/*! For license information please see 383.bundle.js.LICENSE.txt */
(self.webpackChunkaleo_website=self.webpackChunkaleo_website||[]).push([[383],{5052:(e,r,t)=>{t.a(e,(async(e,n)=>{try{t.d(r,{AleoKeyProvider:()=>u,AleoKeyProviderParams:()=>l,PrivateKey:()=>a._q,ProgramManager:()=>p,ProgramManagerBase:()=>a.L,initThreadPool:()=>a.CK,verifyFunctionExecution:()=>a.hz});var a=t(9933),o=e([a]);a=(o.then?(await o)():o)[0];async function i(e){const r=await fetch(e);if(!r.ok)throw new Error(r.status+" could not get URL "+e);return r}async function s(e,r){r.method="POST";const t=await fetch(e,r);if(!t.ok)throw new Error(t.status+" could not post URL "+e);return t}class h{host;account;constructor(e){this.host=e+"/testnet3"}setAccount(e){this.account=e}getAccount(){return this.account}setHost(e){this.host=e+"/testnet3"}async fetchData(e="/"){try{const r=await i(this.host+e);return await r.json()}catch(e){throw new Error("Error fetching data.")}}async findUnspentRecords(e,r,t,n,o,i){if(i=i||[],e<0)throw new Error("Start height must be greater than or equal to 0");const s=new Array;let c,q,f,h,l=0,u=BigInt(0);if(void 0===t){if(void 0===this.account)throw new Error("Private key must be specified in an argument to findOwnedRecords or set in the AleoNetworkClient");f=this.account._privateKey}else try{f=t instanceof a._q?t:a._q.from_string(t)}catch(e){throw new Error("Error parsing private key provided.")}const p=f.to_view_key();try{const e=await this.getLatestHeight();if("number"!=typeof e)throw new Error("Error fetching latest block height.");h=e}catch(e){throw new Error("Error fetching latest block height.")}if(q="number"==typeof r&&r<=h?r:h,e>q)throw new Error("Start height must be less than or equal to end height.");for(;q>e;){c=q-50,c<e&&(c=e);try{const e=await this.getBlockRange(c,q);if(q=c,!(e instanceof Error))for(let r=0;r<e.length;r++){const t=e[r].transactions;if(void 0!==t)for(let e=0;e<t.length;e++){const r=t[e];if("execute"==r.type){const e=r.transaction;if(e.execution&&void 0!==e.execution.transitions)for(let r=0;r<e.execution.transitions.length;r++){const t=e.execution.transitions[r];if("credits.aleo"===t.program&&void 0!==t.outputs)for(let e=0;e<t.outputs.length;e++){const r=t.outputs[e];if("record"===r.type)try{const e=a.fW.fromString(r.value);if(e.isOwner(p)){const r=e.decrypt(p),t=r.nonce();if(i.includes(t))continue;const a=r.serialNumberString(f,"credits.aleo","credits");try{await this.getTransitionId(a)}catch(e){if(!n&&(s.push(r),"number"==typeof o&&(u+=r.microcredits(),u>=BigInt(o))))return s;if(void 0!==n&&n.length>0){let e=0;if(r.microcredits()>n[e]){if(e+=1,s.push(r),"number"==typeof o&&(u+=r.microcredits(),u>=BigInt(o)))return s;if(s.length>=n.length)return s}}}}}catch(e){}}}}}}}catch(e){if(console.warn("Error fetching blocks in range: "+c.toString()+"-"+q.toString()),console.warn("Error: ",e),l+=1,l>10)return console.warn("10 failures fetching records reached. Returning records fetched so far"),s}}return s}async getBlock(e){try{return await this.fetchData("/block/"+e)}catch(e){throw new Error("Error fetching block.")}}async getBlockRange(e,r){try{return await this.fetchData("/blocks?start="+e+"&end="+r)}catch(t){throw new Error("Error fetching blocks between "+e+" and "+r+".")}}async getDeploymentTransactionIDForProgram(e){e instanceof a.$r&&(e=e.toString());try{return(await this.fetchData("/find/transactionID/deployment/"+e)).replace('"',"")}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getDeploymentTransactionForProgram(e){try{const r=await this.getDeploymentTransactionIDForProgram(e);return await this.getTransaction(r)}catch(e){throw new Error("Error fetching deployment transaction for program.")}}async getLatestBlock(){try{return await this.fetchData("/latest/block")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestCommittee(){try{return await this.fetchData("/committee/latest")}catch(e){throw new Error("Error fetching latest block.")}}async getLatestHeight(){try{return await this.fetchData("/latest/height")}catch(e){throw new Error("Error fetching latest height.")}}async getProgram(e){try{return await this.fetchData("/program/"+e)}catch(e){throw new Error("Error fetching program")}}async getProgramObject(e){try{return a.$r.fromString(e)}catch(r){try{return a.$r.fromString(await this.getProgram(e))}catch(r){throw new Error(`${e} is neither a program name or a valid program`)}}}async getProgramImports(e){try{const r={},t=(e instanceof a.$r?e:await this.getProgramObject(e)).getImports();for(let e=0;e<t.length;e++){const n=t[e];if(!r.hasOwnProperty(n)){const e=await this.getProgram(n),t=await this.getProgramImports(n);for(const e in t)r.hasOwnProperty(e)||(r[e]=t[e]);r[n]=e}}return r}catch(e){throw f("Error fetching program imports: "+e)}}async getProgramImportNames(e){try{return(e instanceof a.$r?e:await this.getProgramObject(e)).getImports()}catch(e){throw new Error("Error fetching program imports with error: "+e)}}async getProgramMappingNames(e){try{return await this.fetchData("/program/"+e+"/mappings")}catch(e){throw new Error("Error fetching program mappings - ensure the program exists on chain before trying again")}}async getProgramMappingValue(e,r,t){try{return await this.fetchData("/program/"+e+"/mapping/"+r+"/"+t)}catch(e){throw new Error("Error fetching mapping value - ensure the mapping exists and the key is correct")}}async getStateRoot(){try{return await this.fetchData("/latest/stateRoot")}catch(e){throw new Error("Error fetching Aleo state root")}}async getTransaction(e){try{return await this.fetchData("/transaction/"+e)}catch(e){throw new Error("Error fetching transaction.")}}async getTransactions(e){try{return await this.fetchData("/block/"+e.toString()+"/transactions")}catch(e){throw new Error("Error fetching transactions.")}}async getTransactionsInMempool(){try{return await this.fetchData("/memoryPool/transactions")}catch(e){throw new Error("Error fetching transactions from mempool.")}}async getTransitionId(e){try{return await this.fetchData("/find/transitionID/"+e)}catch(e){throw new Error("Error fetching transition ID.")}}async submitTransaction(e){const r=e instanceof a.YW?e.toString():e;try{const e=await s(this.host+"/transaction/broadcast",{body:r,headers:{"Content-Type":"application/json"}});try{return await e.json()}catch(e){throw new Error(`Error posting transaction. Aleo network response: ${e.message}`)}}catch(e){throw new Error(`Error posting transaction: No response received: ${e.message}`)}}}class l{proverUri;verifierUri;cacheKey;constructor(e){this.proverUri=e.proverUri,this.verifierUri=e.verifierUri,this.cacheKey=e.cacheKey}}class u{cache;cacheOption;keyUris;async fetchBytes(e="/"){try{const r=await i(e),t=await r.arrayBuffer();return new Uint8Array(t)}catch(e){throw new Error("Error fetching data."+e)}}constructor(){this.keyUris=y,this.cache=new Map,this.cacheOption=!1}useCache(e){this.cacheOption=e}clearCache(){this.cache.clear()}cacheKeys(e,r){const[t,n]=r;this.cache.set(e,[t.toBytes(),n.toBytes()])}containsKeys(e){return this.cache.has(e)}deleteKeys(e){return this.cache.delete(e)}getKeys(e){if(console.debug(`Checking if key exists in cache. KeyId: ${e}`),this.cache.has(e)){const[r,t]=this.cache.get(e);return[a.zW.fromBytes(r),a.XV.fromBytes(t)]}return new Error("Key not found in cache.")}async functionKeys(e){if(e){let r,t,n;if("proverUrl"in e&&"string"==typeof e.proverUrl&&(r=e.proverUrl),"verifierUrl"in e&&"string"==typeof e.verifierUrl&&(t=e.verifierUrl),"cacheKey"in e&&"string"==typeof e.cacheKey&&(n=e.cacheKey),r&&t)return await this.fetchKeys(r,t,n);if(n)return this.getKeys(n)}throw Error("Invalid parameters provided, must provide either a cacheKey and/or a proverUrl and a verifierUrl")}async fetchKeys(e,r,t){try{if(this.cacheOption){t||(t=e);const n=this.cache.get(t);if(void 0!==n)return[a.zW.fromBytes(n[0]),a.XV.fromBytes(n[1])];{console.debug("Fetching proving keys from url "+e);const n=a.zW.fromBytes(await this.fetchBytes(e));console.debug("Fetching verifying keys "+r);const o=await this.getVerifyingKey(r);return this.cache.set(t,[n.toBytes(),o.toBytes()]),[n,o]}}{const t=a.zW.fromBytes(await this.fetchBytes(e));return[t,await this.getVerifyingKey(r)]}}catch(t){throw new Error(`Error: ${t} fetching fee proving and verifying keys from ${e} and ${r}.`)}}async transferKeys(e){if(w.has(e))return await this.fetchKeys(v.transfer_private.prover,v.transfer_private.verifier);if(m.has(e))return await this.fetchKeys(v.transfer_private_to_public.prover,v.transfer_private_to_public.verifier);if(k.has(e))return await this.fetchKeys(v.transfer_public.prover,v.transfer_public.verifier);if(x.has(e))return await this.fetchKeys(v.transfer_public_to_private.prover,v.transfer_public_to_private.verifier);throw new Error("Invalid visibility type")}async joinKeys(){return await this.fetchKeys(v.join.prover,v.join.verifier)}async splitKeys(){return await this.fetchKeys(v.split.prover,v.split.verifier)}async feePrivateKeys(){return await this.fetchKeys(v.fee_private.prover,v.fee_private.verifier)}async feePublicKeys(){return await this.fetchKeys(v.fee_public.prover,v.fee_public.verifier)}async getVerifyingKey(e){switch(e){case v.fee_private.verifier:return a.XV.fromString(v.fee_private.verifyingKey);case v.fee_public.verifier:return a.XV.fromString(v.fee_public.verifyingKey);case v.inclusion.verifier:return a.XV.fromString(v.inclusion.verifyingKey);case v.join.verifier:return a.XV.fromString(v.join.verifyingKey);case v.split.verifier:return a.XV.fromString(v.split.verifyingKey);case v.transfer_private.verifier:return a.XV.fromString(v.transfer_private.verifyingKey);case v.transfer_private_to_public.verifier:return a.XV.fromString(v.transfer_private_to_public.verifyingKey);case v.transfer_public.verifier:return a.XV.fromString(v.transfer_public.verifyingKey);case v.transfer_public_to_private.verifier:return a.XV.fromString(v.transfer_public_to_private.verifyingKey);default:return a.XV.fromBytes(await this.fetchBytes(e))}}}class p{account;keyProvider;host;networkClient;recordProvider;constructor(e,r,t){e?(this.host=e,this.networkClient=new h(e)):(this.host="https://api.explorer.aleo.org/v1",this.networkClient=new h(this.host)),this.keyProvider=r||new u,this.recordProvider=t}setAccount(e){this.account=e}setKeyProvider(e){this.keyProvider=e}setHost(e){this.host=e,this.networkClient.setHost(e)}setRecordProvider(e){this.recordProvider=e}async deploy(e,r,t,n,o,i){try{const r=a.$r.fromString(e);let t;try{t=await this.networkClient.getProgram(r.id())}catch(e){console.log(`Program ${r.id()} does not exist on the network, deploying...`)}if("string"==typeof t)throw`Program ${r.id()} already exists on the network, please rename your program`}catch(e){throw f(`Error validating program: ${e}`)}let s,c=i;if(void 0===i&&void 0!==this.account&&(c=this.account.privateKey()),void 0===c)throw"No private key provided and no private key set in the ProgramManager";try{o=t?await this.getCreditsRecord(r,[],o,n):void 0}catch(e){throw f(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{s=t?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw f(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[q,h]=s;let l;try{l=await this.networkClient.getProgramImports(e)}catch(e){throw f(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}const u=await a.L.buildDeploymentTransaction(c,e,r,o,this.host,l,q,h);return await this.networkClient.submitTransaction(u)}async execute(e,r,t,n,o,i,s,c,q,h,l){let u;try{u=await this.networkClient.getProgram(e)}catch(r){throw f(`Error finding ${e}. Network response: '${r}'. Please ensure you're connected to a valid Aleo network the program is deployed to the network.`)}let p,y=l;if(void 0===l&&void 0!==this.account&&(y=this.account.privateKey()),void 0===y)throw"No private key provided and no private key set in the ProgramManager";try{c=n?await this.getCreditsRecord(t,[],c,i):void 0}catch(e){throw f(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{p=n?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys()}catch(e){throw f(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[v,g]=p;if(!q||!h)try{[q,h]=await this.keyProvider.functionKeys(s)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}let d;try{d=await this.networkClient.getProgramImports(e)}catch(e){throw f(`Error finding program imports. Network response: '${e}'. Please ensure you're connected to a valid Aleo network and the program is deployed to the network.`)}const w=await a.L.buildExecutionTransaction(y,u,r,o,t,c,this.host,d,q,h,v,g);return await this.networkClient.submitTransaction(w)}async executeOffline(e,r,t,n,o,i,s,c,q){let f=q;if(void 0===q&&void 0!==this.account&&(f=this.account.privateKey()),void 0===f)throw"No private key provided and no private key set in the ProgramManager";if(!s||!c)try{[s,c]=await this.keyProvider.functionKeys(i)}catch(e){console.log(`Function keys not found. Key finder response: '${e}'. The function keys will be synthesized`)}return console.log("Running program offline"),console.log("Proving key: ",s),console.log("Verifying key: ",c),a.L.executeFunctionOffline(f,e,r,t,n,!1,o,s,c,this.host)}async join(e,r,t,n,o,i,s){let c,q,h=s;if(void 0===s&&void 0!==this.account&&(h=this.account.privateKey()),void 0===h)throw"No private key provided and no private key set in the ProgramManager";try{c=n?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),q=await this.keyProvider.joinKeys()}catch(e){throw f(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[l,u]=c,[p,y]=q;try{i=n?await this.getCreditsRecord(t,[],i,o):void 0}catch(e){throw f(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}try{e=e instanceof a.PD?e:a.PD.fromString(e),r=r instanceof a.PD?r:a.PD.fromString(r)}catch(e){throw f("Records provided are not valid. Please ensure they are valid plaintext records.")}const v=await a.L.buildJoinTransaction(h,e,r,t,i,this.host,p,y,l,u);return await this.networkClient.submitTransaction(v)}async split(e,r,t){let n,o=t;if(void 0===o&&void 0!==this.account&&(o=this.account.privateKey()),void 0===o)throw"No private key provided and no private key set in the ProgramManager";try{n=await this.keyProvider.splitKeys()}catch(e){throw f(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[i,s]=n;try{r=r instanceof a.PD?r:a.PD.fromString(r)}catch(e){throw f("Record provided is not valid. Please ensure it is a valid plaintext record.")}const c=await a.L.buildSplitTransaction(o,e,r,this.host,i,s);return await this.networkClient.submitTransaction(c)}async synthesizeKeys(e,r,t,n){let o,i=n;void 0===i&&(i=void 0!==this.account?this.account.privateKey():new a._q);try{o=await this.networkClient.getProgramImports(e);const n=await a.L.synthesizeKeyPair(i,e,r,t,o);return[n.provingKey(),n.verifyingKey()]}catch(e){throw f(`Could not synthesize keys - error ${e}. Please ensure the program is valid and the inputs are correct.`)}}async transfer(e,r,t,n,o,i,s,h,l){t=q(t);let u,p,y=l;if(void 0===y&&void 0!==this.account&&(y=this.account.privateKey()),void 0===y)throw"No private key provided and no private key set in the ProgramManager";try{u=o?await this.keyProvider.feePrivateKeys():await this.keyProvider.feePublicKeys(),p=await this.keyProvider.transferKeys(t)}catch(e){throw f(`Error finding fee keys. Key finder response: '${e}'. Please ensure your key provider is configured correctly.`)}const[v,g]=u,[d,w]=p;try{const e=[];c(t)?(s=await this.getCreditsRecord(n,[],s,i),e.push(s.nonce())):s=void 0,h=o?await this.getCreditsRecord(n,e,h,i):void 0}catch(e){throw f(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}const m=await a.L.buildTransferTransaction(y,e,r,t,s,n,h,this.host,d,w,v,g);return await this.networkClient.submitTransaction(m)}verifyExecution(e){try{const r=e.getExecution(),t=e.getFunctionId(),n=e.getProgram(),o=e.getVerifyingKey();return(0,a.hz)(r,o,n,t)}catch(e){return console.warn("The execution was not found in the response, cannot verify the execution"),!1}}createProgramFromSource(e){return a.$r.fromString(e)}creditsProgram(){return a.$r.getCreditsProgram()}verifyProgram(e){try{return a.$r.fromString(e),!0}catch(e){return!1}}async getCreditsRecord(e,r,t,n){try{return t instanceof a.PD?t:a.PD.fromString(t)}catch(t){try{const t=this.recordProvider;return await t.findCreditsRecord(e,!0,r,n)}catch(e){throw f(`Error finding fee record. Record finder response: '${e}'. Please ensure you're connected to a valid Aleo network and a record with enough balance exists.`)}}}}function c(e){return g.has(e)}function q(e){return d.has(e)?e:f(`Invalid transfer type '${e}'. Valid transfer types are 'private', 'privateToPublic', 'public', and 'publicToPrivate'.`)}const y="https://testnet3.parameters.aleo.org/",v={fee_private:{prover:y+"fee_private.prover.43fab98",verifier:"fee_private.verifier.f3dfefc",verifyingKey:"verifier1qygqqqqqqqqqqq8rjvqqqqqqqqq00ycqqqqqqqqqusvszqqqqqqqpnf6qyqqqqqqqqcd6qqqqqqqqqqvqqqqqqqqqqq0plfjy36deglp5xr0lk3rccawpqgztrnjusxnlkc8hz6879me8ty8y7rxzc3qqafadrmvz0v2aluqjwezzwkmj3q9vmr0xgk3arehjhppu7scsw6h4nj08z7fswhyq739ypuh67ff0f0sg8787aq4w80gqrn8e5kduw8h002rkjrw907zqxawqu7qmumx5zayg7k55rdzn05eg5sl8swr7fveuhud3gmf9xjsqzd9x9az5ls4s8cwjgc5lmvkhphy67q0g7qwzee7hyavg335j25mllnywrtjcwfejt55qxag7wvggqtmtc3al0gy6q83hql4wagk37e200592az7n525s80c4xwr92jr8dt40t3fyjxzszrc9umk95psswq82kkg25sh25s3mw5z3xt9qy2ftm8ec4a8l8rwfuxfujjrxxnhmrqs4wsunec3ukd4mur4fkj8enqqqv9n37e5fyag7e33rxsyp63u5rfs8hn26slsmdaqzvp2flcz506r0hqncdtt07nhulltlh5wyq4gpxsln5td2v0treu7t8wanhq6yv8hswxla7cf3w8nv4p233gz0ry9n7sj2uduredwtykw2ec3fs8fqrjkz8agg2xj8t9wden6spzdfcl7jlw4rgzv4hjqvh4cw40yhh8udv5g6vd0jhhfmqevezq0zs4x2q2m7u0hq9mkvulj950t9a5tcm6suycdlaky8t568jevkn3tf9uu5laevjumvahk4cxjxam85kq0l5qrycnmdzgvm7hr8cvl8a7qzcmjkwh48krtxtduhcfn7hvt752slm0nvth0yf35jugxg7ah2kw5emcq4mk962eypxyvwahf4k5ql8376l5za4zvv2p7jzgkjjs4lc60nv3czmdmmc0qn5mwnlnaxmwazs3qzfea0z0sn3nflp8v2lwlczljxre975fnvw3vfyrrjze4wuxtkjg7j37fph"},fee_public:{prover:y+"fee_public.prover.634f153",verifier:"fee_public.verifier.09eeb4f",verifyingKey:"verifier1qygqqqqqqqqqqqrcxyqqqqqqqqq8yvgqqqqqqqqqndesqqqqqqqqpg56qqqqqqqqqqhyyqqqqqqqqqqvqqqqqqqqqqq9a3p0z8q2qzsgq6lsd3zeh3tvezv0d2wg9tykutk9s7dat8uyamgxv54vv5le5slhta92cs08905qy0mgfdx0r7hzc7ec4qn8wmkx2cvtrwggad5h898kkp20eheukemkhj6g37flhpmxq9hpk9q2kfcsr58ufzupqpgfthzxsrn0554ttqckrgfwjfnvpfqhy4evahxkzahkf85pqt0es3j5jc2kzpkcu4ausrm4k53evjtuy3tzc3jgwl7y5t79j0ddhprs6ls9x0qpvqggvkffjg0psvjrmf2rsw5xrdnmqxlx5qru82dsavaka5kfsvxgyrzdf4tzceghyeqpk55308pkc0sg63sgwt8fywksccjdkkrqkh00kgraeuq97zsydp9z6pagtqmaply94dacmk7qkgg5jt36exjxcjdckjgswc5agg9xd4lqmpxxmtur7d7ecvvpg5rg4mzlf65hlpeynczqwdgrdekx7m3n4ljumgezxyzq7h9wmnrqfawayl5gns8gv2jaucwc9qmcq7pj6kvddw8dgpdf0rh66a6erzj9fmupu8ulc2x64092k5sfdm6rlaktdv8fscn8wlct0p9xahl2qqnxsw3tfzms5xplll4xamrlhtjm2xfsqmx62er2lmmzn6wk8788hcpg7uetlrufwlvmapeh00h9aqql6ggsknvwt45wjmfkky7z5ukly3dpjqvqt3yl839d8flcx6kpf5vqvdm57kqdwjazcmfn4ae87yqg08dlw805prfrfjvlyff3kq09z2yxc0pcaqalj7r4e6lygruk2ezpkfjlslyjtek6rtgvfwavqa5pmp6jgmr8xzu5dk0lcmfgm0plw8jkwt60pz2scpuh78k7f4dlfp7grjpn3xtdphhsn0k8rpfwqq3qr6huef2asc990ragxknla7kdl76xr2g2vl8pnql3f58wgcptked7rgeah8"},inclusion:{prover:y+"inclusion.prover.cd85cc5",verifier:"inclusion.verifier.e6f3add",verifyingKey:"verifier1qyyqqqqqqqqqqqzq7qqsqqqqqqq0huqpqqqqqqqqjvksgqqqqqqqqnypqgqqqqqqqzk8sqcqqqqqqqqvqqqqqqqqqqqxsh33gk03qelqrvy0g5m2km5vfhs6flwsutadvdl3nd82a3xqunx8pgaccs2yh654tpnanywulgvpvfxuma59ufttju8mvnpmuhg720p6fawv4ynhe75vfhn3te00saqpd5kpgxw59gf4r3ng3z0hr49gpwlwgkac7zlqk7cne5xh33m96qep9xeu2nf68dye57yqrnqgtaa2vk3ldcpurjn3s4pavzde8cehsrqn57qm2ewew3t4g6css5qzgfywdkkrx0rmz5u68cxvrwaksjd4s2exerl3u7cae58tc383yzd5tqxk66xqldl3ch8ymq73jhufwfcp4r8vcynmjenzt355a3qnejfndw7v5sn9a63wrd86rczgrp8wsuqsth7346q3qgaddsj6ln92233jjvke2krn809qvt8ev940hfclr5etza54055m8upn5jhg224v27cqamjy5lv3qm5nyc9asy0tqz0xsgmkuyp75t2qgv3h9s4av3u5tpmf8qkf7k7gp8rjlf67uncphscspvlmku59mgn4cqlxqqz3qdsyycs2my3emuyj9vnzt0464rfgnnmxwnw4kkqe50f764fjauj73kqcsxzn5mecv507xnetxvhfkt79r6hfvf6nzl735xtfp4r7uxlns3dazwj9mgl4fayzv0nqprh80ydqtq9tl6ffcmav2mlsky8tdrunewu3z8a2qg5wfhxz4j0xsqzfsr50ts63g0wysvnkt4rd6equa0r6fsqhrsjft0qy4jnstawrmnj28llqfgemj868y6aaw5rjftgp5vezg7r2c4q5zeupt4gghwand0jeyv5qfnxtnzh7wflxh7tdd0q6zh2fy635xhmllux8hk946t3kzenmc0355mz309gfachp2verz2qaepxsrj63nr54uga9eh2xcgp85v90dellhsvyx73m2w2qyed52svs62ysg7e3ag"},join:{prover:y+"join.prover.1a76fe8",verifier:"join.verifier.4f1701b",verifyingKey:"verifier1qygqqqqqqqqqqqz2cvqqqqqqqqqx0scqqqqqqqqqc42qzqqqqqqqpvmfqyqqqqqqqquzwqgqqqqqqqqvqqqqqqqqqqqpz6knqjfm77py0mpx68rmc6yavzrjpn3vdn5rmhum6u47fxt3j7auv5mk8epjx0hsa7nfm4llzwqqj84x9cnerm5gach0nzfy0jsvfrylvld5ffe8g63nhw5qng68rs6yrlzrc5229ezc8j4n4y0f2hrqqmdphh3mpglur7evq52n6mx9nls064fpn8wr3vqz75vextjhjmpvcrgs8har5txjnh9tj8lmlusns8nklkw8dh8nc8sv0llh4cgw95l3m7mwugu5nfrrlmyccnmrues4wl0hdfwsq8wvn60y2hl036g3aqzh5cn6n2366fy4hawjn22mj86w2w7twq80pdrea6svl7uq5zyh9nz4qgd72tql95n2xx0zh3wcjyqca5wzv4276exszaunpjduuvjmture49av40ve03akc9qw709wuf9a8hhpwlwwz8acf2z5ngk2d95qzfqhkmllqx4lnupyevkn8zthgu54x55t4cqm7uvmmnu3vtvkmsr4tldemm26shwk8ux27v6lmxkqppuesjj5d3m7x5rsg7yn8cg6hkat6fy8u8zj3n0z26ehqvmq8x2fadtw5jt6pxxfp3cm40ak7x9yqym5qrwjzpr7xwr4t6pjn5ca9g02hnuyvxd9jqpv70a7w05mqatnyzhnfl462xmsehgcwczjkrzz2qxk3wa0elrnvnh9qlz3cc2g8xyag9yrds0jepsvskl55zqtntp6qvkj9nkmlercd95j8g9xdgxv0sq0y6gq32ng5r9zcs4wt3vryhldxtr9epyz5vnnx4mf2lhv4r56mftaugjemxezpjcv9enr259tf7qq66a7ngsc3y0a5jlm8jg2rnd9c38ny2m5egl7ssx62zcscztkmjqpkvta2za4ym5jkatgzd2zspfcrc7gesjxjgcvhsua3jpyzpdan6mestyqsx5eatkmzv9zmpwkur3c34sjzc"},split:{prover:y+"split.prover.e6d12b9",verifier:"split.verifier.2f9733d",verifyingKey:"verifier1qygqqqqqqqqqqqpehuqqqqqqqqq930cqqqqqqqqq295qzqqqqqqqqyyyqyqqqqqqqzjjvqgqqqqqqqqvqqqqqqqqqqqyjhdhawnd33kv88ehql385slkd7lyr46jnf7yathmnxnr7at2j6u4nfkkvryujwt8rvhdfpuw94qq8e7sp33sjtyz53q89k85ttcg2cvadvuadeuq5xn4hgkmvm3qj93er0t2pjpd2p4kd3zy2gqmqd5qpfzdk973253ufzafqwd9879c7wpdv500a4xhetxkareamyl2qqzdd5hxl94vnmrkluzx0te32rkusqs20xswldqdgekfh6p25yxjhls20k59lsfn9az8jak9lr6r745ujsq0jq9fvugqyqchuca8xq6stq0svvu7e4xguc84t3s72erg4ve2z3nsr3jqv6jtala9j3xf5msksupprwwxkwwl58pv2hmr4g5h4xqym3nj6ax7ujx70np7egc4nw0w3j02m34eq00gssjq0pf9xfltxtef29crye3sul45kkawnrl6uzvquszlgltwtgx2xjlehgh0xpdm68dyjev9qxsleetpc33mns5jakrmqqryk8qgmnc56dzgcwm99eccq6c93576s946jztmuvgp8522y00jpck54wlcg3me44sk8usehsnjgm85zmypjsf7nlp06na927dtqp7u45jnd3em0n9h0wgtgvwh7lyhq4guwdfxws8mswwzfr5fjdtv0smjeq3r58v03amrhgr2ex4h7q8wapp8h5ug8vh0fxkt6yp3l2mas3l0jmmpedy9vx4lnxmjwn8t4wxyrdnnr54jxmp0wyu3sf6wwkqa6r2g2u9qu5km92fjnckme07mrxghuxh9ktpj9cvaf08sccdtdwjsnkyt9qu2x5ft27tkrskudrqpyr63x640xlk9wqpmy3edx58wxwzesmx22v62y6lshjv3wur83jlmwm74qqpd34ewmrk7eg0jfp7cretx5jwfv5c904v9qazfyluh5fpdczgx9fluayuukfwnqjq8tdwx3shuy5"},transfer_private:{prover:y+"transfer_private.prover.2b487c0",verifier:"transfer_private.verifier.3a3cbba",verifyingKey:"verifier1qygqqqqqqqqqqqqvccqqqqqqqqqz43sqqqqqqqqq7jqqzqqqqqqqpj4vqyqqqqqqqq0zuqgqqqqqqqqvqqqqqqqqqqqyvnz4pl9kjr0ks3dtkz67gw8tyqzs3sxskt8xg6keqrrqk9nj3e39kg65lzz5sd5tug2ecrpmfg5peseqmv709nry8up96qwsuvpp8684njpe4qunfhf7ywc0a7lck9rdlfcred8krn60lgztx4wlrlmspnnkwe9gmqk07tt5lj3wxcpucpshz7ec6w5mqvspprmu88lr9tr9e7a9fqdye0jdajq46pt35hdjsruamruf6v73fu68hv5fcsndmfq3c65yjrmljfg3343vj8cca2js2gumrks9eepm3d7g02jw0se9eqpaj86kpscxu4vuvw7jedgt2c0l4fk5zqwdu3vfhrazjwedl5d0n9w75ky0924qjjzg3c04dw7p8uqxqnuph6d3d935zqavxtte336jmnpk0hkjn80cejqfljl7w6jtnl3tedhtdk4cx207c7lud9xagzcp760x47h3hrw68syru4rnr3zgy99wcpnglpjvndzrjpc3z8c53xyqx0jh8cnt6gn92fgqu8a5huespxgnckqgttq8aa7xngxt9f5lpq2zgakfhtfvhlcy66k3depln3x67ck2m9t0fvnetjygj6h2er2fqqwcf2ghjp5fvq4e68635ql0lv5uv4c82575dcv87a0y8745g6gvjenh49zppsekc82dect9ggp3aqxqnc73dmd38pe4x7v9wwv6namfe7337tczyfz47dyxxzy8fslktv47yn8r87n0nap5qlc9gzgd2yq8m6zj0ulzgaqls2dq2atkfzxu5rjguvcjxnmn7hr8uxgxuzrwtmcftz4emn24vpq5pcwxf29a7w5p80e7f2tv7ags5k0pj9fghaklzm5xrakpsk3gv4xzvzqj6u2denjw60q777r5889xqrvchhtac4xspue4mncvgerscq4dslzkt4mg4zuv6t6gahcvnm2p6r02ns62xsdexs8jxt"},transfer_private_to_public:{prover:y+"transfer_private_to_public.prover.1ff64cb",verifier:"transfer_private_to_public.verifier.d5b60de",verifyingKey:"verifier1qygqqqqqqqqqqqrwjvqqqqqqqqqgpycqqqqqqqqquvvqzqqqqqqqqceuqyqqqqqqqqyd6qqqqqqqqqqvqqqqqqqqqqqr8z97pzqh2lxcc4tasdu784svuk6lv62sj78flptnzqks3hyu42ymryngdzr2mw6j4nxm4cmx8tgqnfzdkccekds6nhs4c7t2hf84d38jkuufdrf43ls4zm9htqarx9mv3gswcxp74kelgy36yhpsrfkgzdr8vy8580sulvaw36pxjjv0j543rml679z305kt2ju3wzarmsukzkfp56qnc0pjuptzajkes95uspd0uz3fd9fu5vmxwfwq9cj5qh0yjq398h729yygdm0fzkrl9g6faevalks3yc7xl3le38k77t3exqqnn82yyjpunpn763s8hkaguvn67jehqcvt8tvhql8skpesm9tm2hgeryk934h8c8cdcgynjq5cj2qer7kkjc2rrmg5j6agac0ya88up0sl2skxsvkw0rgxlgxjtjqc4g8c3xssq2sk6e2dufvc480rj8vqcrhtqsjqdkzq3nanlvngrjxchnzwfywwjphj5jeza2lyynrk5awz8v6jtwgxu2fs6uqrykz5lz6qpt2dfs670clhjpagxny40nmgeqtf9w8hu4v7yjpgwpv89v05u2ahdryu4538augkjhdx3hvfahwuszd8zyqmcxhrcq039hcrkd5qgadhj257vvrf27dwu64kl0j237efzvt5d360umxw3xk6tej5cxv9zqxqzc7ryqndhttaw5act9kwt8kvxtdjnzy99q8gzmg2429f94h6csrqejzc4n40xjcsdwn98hdekyqzytrh35w6t3r5d86kqt897kv5mldx9w06h4rldk734hvn096gt7e4smleja7canyfpv798cksshgq7hkyt6elvzp3rpj9nd84ykt9lzgjsswn4y8934ay3575u3sx7mkeuca0zsere2q0jmlsl6w6v2qcq424uhnmqn9q5vw22jgy94pry2junps40ug867d79h2zvd0n02nmlz05hd"},transfer_public:{prover:y+"transfer_public.prover.a74565e",verifier:"transfer_public.verifier.a4c2906",verifyingKey:"verifier1qygqqqqqqqqqqqq79uqqqqqqqqqp2tcqqqqqqqqqwd4qqqqqqqqqp5ydqqqqqqqqqqvyqqqqqqqqqqqvqqqqqqqqqqqre7drur40rst43dq9at346py7hkmrhexarf59f2tjt4stlsdj5uwrgnrkjjej7jf3djk2w4njtxcq0mezac793craujm8mr7wutcqtu2aday5g03wl0cu2572fsrtpyjhdyqlh0447z7dshlkhksjsusgp4ezrvc0n64fwetfmml3kvfg7n03w2e602sl7et4cpw98hgpzxwzrmzu8r3x77v49njysy2lp55xsqh6t5qjvhyl5a7nzy3e73y7dzvvs9p450u0s8g84prqnrk6jeah89c6882uzqdvxgzcedfmsc43uq99n3ycrjh70ys8n02pyvdvzmu7z608desdd5yw9dc8v3ddrdddmrzz2pupe09yn9esy25cfzmd0wqcgjdxm4dvlt2t6k66lw8e9ccj49qj2ahpht62kh7p56xpvpekenq2arng2t55mwxe59mqpkp6a0yqlwt7tdf98rt3kqlr9tdtq6hua3wrka0mqzhva4nhucxn9u4w92mly69jy2c7cqm5ftnk3m0qxy9spaxwfz0xkqd947yvf2zh8h4y59fltxdpeu4utpv9zw0cr7ad9d462qxyc2f05lezw6dwhcmep942qqv38lp3x9efestt5pk8rplvmrk0zz9zel48l8h9ldfzyd8zyr7knze92cdyanez6k7q5fu6tnw9wqrywjnhevaujz20xn0h3n47g85zs6ejfh7z8jt9qjesqgmdymvcxlceudkdsl49t5r69c4mg7hfwyq88z7zn0efda8fdjmhz8aaq24q34g2ekdzr5w9em3cev2ktxtmupqwltu0nh3fjzm04cy3cgnqlnqq0chzq4rs2dmfjwryxrxxgjtdcsnn9fpwykkxwfuervtznu3lmvhhpdflgwgm0xklu6c0xsxt9dfcp29w2nz6zkjetz7cqremg68eqxq86rn082czp50ldw9qkq6w3p9xxg4hrg"},transfer_public_to_private:{prover:y+"transfer_public_to_private.prover.1bcddf9",verifier:"transfer_public_to_private.verifier.b094554",verifyingKey:"verifier1qygqqqqqqqqqqqrhvqqqqqqqqqq8kcqqqqqqqqqqu0xsqqqqqqqqqw0kqqqqqqqqqreg7qqqqqqqqqqvqqqqqqqqqqqta360tn6dhv5z559ejfahwq88lxtd498py5p3vw5u3rwtfvdzpxq7fuqdahsrennq80g8yc6wqjyq8ahdv3jzry0mxceed0jr2cd0wye3e7782pg3phsu8h7hcapfgdghcgg2ykfc2682xefhsp3plqnqp692097k4ja82ecc2descl4d6csug04cz2j9a5pk3djx6xde2ghgq7uqvuhsg47ksueeetvc7mh2qpvqjmph9eekp5waqunkeea9vkvzyl8culmn5t7l9ke3r7uz8v5r8njjdkug6va9vy6axx9aq2kxaqdd9ll2m3j7qg7eyq3k2pnhq7gx2kv8vm3yf5pyqtywt2hvur5uv45y5st53qh970dktd3k709d9sqwv0d6qaksxjcp2cxu282hcewhy66vfs5kp35e6k4shdmjzmglyqqcsnupv8xwdr3596qypzshnuuq8rpm8pyjwtws63wsazqt8tlqhkkxucf0zjc384wvv2jemdnjwd6hn9745h8qc4kqp0rzs9wkx0hcp22xzuyyk7gpsc9ahw7pdenpje3etp37lfrcuntehl8wm2eudrh0j04szjzrv0n3r2gv04mgau5ysqtdcddq44xtt6t6f08c9zuhqukk8zy75jru0exufnh74u97d4xwe005ug7ywmcnyz8u6nvdav2xxqqzpg0luhghl8xu7g0cjgxse0lnqqedc7cc47nc048h2t44gedjq7f49ghajc9gwclp962v4q2855qvgdtkmr29cpwwq8vghlcjv0g6k0a0xa8yrmmnd5l7umnuqcd4x9rcejc3mkjgpw8y6mue2n5tx9cpahnw37yey5k38j98dnr9jss00420jvk7nh59hul7ef69n8ktcltl8f0t93rya5y8d2cspyjp6c7crvg2d4m37z78dualsqr9u7vtge07psdtl4l9785fxl3wgf9u277puvgvuq"}},g=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic"]),d=new Set(["transfer_private","private","transferPrivate","transfer_private_to_public","privateToPublic","transferPrivateToPublic","transfer_public","public","transferPublic","transfer_public_to_private","publicToPrivate","transferPublicToPrivate"]),w=new Set(["private","transfer_private","transferPrivate"]),m=new Set(["private_to_public","privateToPublic","transfer_private_to_public","transferPrivateToPublic"]),k=new Set(["public","transfer_public","transferPublic"]),x=new Set(["public_to_private","publicToPrivate","transfer_public_to_private","transferPublicToPrivate"]);function f(e){throw console.error(e),e}n()}catch(j){n(j)}}))},5383:(e,r,t)=>{t.a(e,(async(e,r)=>{try{var n=t(5052),a=e([n]);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,r){if(e){if("string"==typeof e)return c(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,r):void 0}}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function q(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o,i,s=[],c=!0,q=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(s.push(n.value),s.length!==r);c=!0);}catch(e){q=!0,a=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(q)throw a}}return s}}function f(e){if(Array.isArray(e))return e}function h(){h=function(){return r};var e,r={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,r,t){e[r]=t.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",q=i.toStringTag||"@@toStringTag";function f(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{f({},"")}catch(e){f=function(e,r,t){return e[r]=t}}function l(e,r,t,n){var o=r&&r.prototype instanceof w?r:w,i=Object.create(o.prototype),s=new S(n||[]);return a(i,"_invoke",{value:_(e,t,s)}),i}function u(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}r.wrap=l;var p="suspendedStart",y="suspendedYield",v="executing",g="completed",d={};function w(){}function m(){}function k(){}var x={};f(x,s,(function(){return this}));var j=Object.getPrototypeOf,z=j&&j(j(L([])));z&&z!==t&&n.call(z,s)&&(x=z);var b=k.prototype=w.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(r){f(e,r,(function(e){return this._invoke(r,e)}))}))}function P(e,r){function t(a,i,s,c){var q=u(e[a],e,i);if("throw"!==q.type){var f=q.arg,h=f.value;return h&&"object"==o(h)&&n.call(h,"__await")?r.resolve(h.__await).then((function(e){t("next",e,s,c)}),(function(e){t("throw",e,s,c)})):r.resolve(h).then((function(e){f.value=e,s(f)}),(function(e){return t("throw",e,s,c)}))}c(q.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new r((function(r,a){t(e,n,r,a)}))}return i=i?i.then(a,a):a()}})}function _(r,t,n){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=K(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=v;var q=u(r,t,n);if("normal"===q.type){if(a=n.done?g:y,q.arg===d)continue;return{value:q.arg,done:n.done}}"throw"===q.type&&(a=g,n.method="throw",n.arg=q.arg)}}}function K(r,t){var n=t.method,a=r.iterator[n];if(a===e)return t.delegate=null,"throw"===n&&r.iterator.return&&(t.method="return",t.arg=e,K(r,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,r.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[r.resultName]=i.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function T(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function O(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(r){if(r||""===r){var t=r[s];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,i=function t(){for(;++a<r.length;)if(n.call(r,a))return t.value=r[a],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(o(r)+" is not iterable")}return m.prototype=k,a(b,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:m,configurable:!0}),m.displayName=f(k,q,"GeneratorFunction"),r.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===m||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,f(e,q,"GeneratorFunction")),e.prototype=Object.create(b),e},r.awrap=function(e){return{__await:e}},E(P.prototype),f(P.prototype,c,(function(){return this})),r.AsyncIterator=P,r.async=function(e,t,n,a,o){void 0===o&&(o=Promise);var i=new P(l(e,t,n,a),o);return r.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(b),f(b,q,"Generator"),f(b,s,(function(){return this})),f(b,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var r=Object(e),t=[];for(var n in r)t.push(n);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in r)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=L,S.prototype={constructor:S,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!r)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function a(n,a){return s.type="throw",s.arg=r,t.next=n,a&&(t.method="next",t.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),q=n.call(i,"finallyLoc");if(c&&q){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),d},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),O(t),d}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var a=n.arg;O(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:L(r),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=e),d}},r}function l(e,r,t,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){l(o,n,a,i,s,"next",e)}function s(e){l(o,n,a,i,s,"throw",e)}i(void 0)}))}}n=(a.then?(await a)():a)[0],await n.initThreadPool();var p="https://api.explorer.aleo.org/v1",y=new n.AleoKeyProvider,v=new n.ProgramManager(p,y,void 0);y.useCache(!0),self.postMessage({type:"ALEO_WORKER_READY"});var g=null;self.addEventListener("message",(function(e){if("ALEO_EXECUTE_PROGRAM_LOCAL"===e.data.type){var r=e.data,t=r.localProgram,a=r.aleoFunction,o=r.inputs,c=r.privateKey;console.log("Web worker: Executing function locally...");var l=performance.now();u(h().mark((function e(){var r,i,s,q,f,u,p,d,w,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n.PrivateKey.from_string(c),i=v.createProgramFromSource(t),s=i.id(),i.hasFunction(a)){e.next=6;break}throw"Program ".concat(s," does not contain function ").concat(a);case 6:if(q="".concat(s,":").concat(a),f=v.networkClient.getProgramImports(t),g===t){e.next=14;break}return e.next=11,v.synthesizeKeys(t,a,o,r);case 11:u=e.sent,v.keyProvider.cacheKeys(q,u),g=t;case 14:return p=new n.AleoKeyProviderParams({cacheKey:q}),e.next=17,v.executeOffline(t,a,o,!1,f,p,void 0,void 0,r);case 17:d=e.sent,console.log("Web worker: Local execution completed in ".concat(performance.now()-l," ms")),w=d.getOutputs(),(m=d.getExecution())?(n.verifyFunctionExecution(m,y.getKeys(q)[1],i,"hello"),m=m.toString(),console.log("Execution verified successfully: "+m)):m="",console.log("Function execution response: ".concat(w)),self.postMessage({type:"OFFLINE_EXECUTION_COMPLETED",outputs:{outputs:w,execution:m}}),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 30:case"end":return e.stop()}}),e,null,[[0,26]])})))()}else if("ALEO_EXECUTE_PROGRAM_ON_CHAIN"===e.data.type){var d=e.data,w=d.remoteProgram,m=d.aleoFunction,k=d.inputs,x=d.privateKey,j=d.fee,z=d.privateFee,b=d.feeRecord,E=d.url;console.log("Web worker: Creating execution...");var P=performance.now();u(h().mark((function e(){var r,t,a,o,i,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.PrivateKey.from_string(x),e.next=4,v.networkClient.getProgramObject(w);case 4:if(t=e.sent,a=t.id(),t.hasFunction(m)){e.next=8;break}throw"Program ".concat(a," does not contain function ").concat(m);case 8:if(o="".concat(a,":").concat(m),v.keyProvider.containsKeys(o)){e.next=15;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(a,":").concat(m,"'")),e.next=13,v.synthesizeKeys(w,m,k,r);case 13:i=e.sent,v.keyProvider.cacheKeys(o,i);case 15:return s=new n.AleoKeyProviderParams({cacheKey:o}),"string"==typeof E&&v.setHost(E),e.next=19,v.execute(a,m,j,z,k,void 0,s,b,void 0,void 0,r);case 19:c=e.sent,console.log("Web worker: On-chain execution transaction created in ".concat(performance.now()-P," ms")),self.postMessage({type:"EXECUTION_TRANSACTION_COMPLETED",executeTransaction:c}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.error("Error creating execution transaction: ".concat(e.t0)),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 28:return e.prev=28,v.setHost(p),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,24,28,31]])})))()}else if("ALEO_ESTIMATE_EXECUTION_FEE"===e.data.type){var _=e.data,K=_.remoteProgram,T=_.privateKey,O=_.aleoFunction,S=_.inputs,L=_.url;console.log("Web worker: Estimating execution fee...");var R=performance.now();u(h().mark((function e(){var r,t,a,o,c,l,u,p,y,g,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.PrivateKey.from_string(T),e.next=4,v.networkClient.getProgramObject(K);case 4:if(t=e.sent,a=t.id(),t.getFunctions().includes(O)){e.next=8;break}throw"Program ".concat(a," does not contain function ").concat(O);case 8:return o="".concat(a,":").concat(O),e.next=11,v.networkClient.getProgramImports(K);case 11:if(c=e.sent,v.keyProvider.containsKeys(o)){e.next=18;break}return console.log("Web worker: Synthesizing proving & verifying keys for: '".concat(a,":").concat(O,"'")),e.next=16,v.synthesizeKeys(t.toString(),O,S,r);case 16:l=e.sent,v.keyProvider.cacheKeys(o,l);case 18:return u=v.keyProvider.getKeys(o),w=2,p=f(h=u)||q(h,w)||s(h,w)||i(),y=p[0],g=p[1],e.next=21,n.ProgramManagerBase.estimateExecutionFee(r,K,O,S,L,c,y,g);case 21:d=e.sent,console.log("Web worker: Execution fee estimated in ".concat(performance.now()-R," ms")),console.log("Execution Fee Estimation: ".concat(d," microcredits")),self.postMessage({type:"EXECUTION_FEE_ESTIMATION_COMPLETED",executionFee:Number(d)/1e6+.01}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 31:case"end":return e.stop()}var h,w}),e,null,[[0,27]])})))()}else if("ALEO_ESTIMATE_DEPLOYMENT_FEE"===e.data.type){var C=e.data,A=C.program;C.url;console.log("Web worker: Estimating deployment fee...");var M=performance.now();u(h().mark((function e(){var r,t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.networkClient.getProgramImports(A);case 3:return r=e.sent,console.log("Estimating deployment fee.."),e.next=7,n.ProgramManagerBase.estimateDeploymentFee(A,r);case 7:t=e.sent,console.log("Web worker: Deployment fee estimation completed in ".concat(performance.now()-M," ms")),console.log("Deployment Fee Estimation: ".concat(t," microcredits")),self.postMessage({type:"DEPLOYMENT_FEE_ESTIMATION_COMPLETED",deploymentFee:Number(t)/1e6+.01}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()}else if("ALEO_TRANSFER"===e.data.type){var I=e.data,N=I.privateKey,D=I.amountCredits,F=I.recipient,$=I.transfer_type,U=I.amountRecord,B=I.fee,W=I.privateFee,V=I.feeRecord,X=I.url;console.log("Web worker: Creating transfer of type ".concat($,"..."));var H=performance.now();u(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof X&&v.setHost(X),e.next=4,v.transfer(D,F,$,B,W,void 0,U,V,n.PrivateKey.from_string(N));case 4:r=e.sent,console.log("Web worker: Transfer transaction ".concat(r," created in ").concat(performance.now()-H," ms")),self.postMessage({type:"TRANSFER_TRANSACTION_COMPLETED",transferTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_DEPLOY"===e.data.type){var G=e.data,Y=G.program,J=G.privateKey,Q=G.fee,Z=G.privateFee,ee=G.feeRecord,re=G.url;console.log("Web worker: Creating deployment...");var te=performance.now();u(h().mark((function e(){var r,t,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof re&&v.setHost(re),r=v.createProgramFromSource(Y),t=!1,e.prev=4,e.next=7,v.networkClient.getProgram(r.id());case 7:t=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Program not found on the Aleo Network - proceeding with deployment...");case 13:if(!t){e.next=15;break}throw"Program ".concat(r.id()," already exists on the network");case 15:return console.log("fee is: ",Q),e.next=18,v.deploy(Y,Q,Z,void 0,ee,n.PrivateKey.from_string(J));case 18:a=e.sent,console.log("Web worker: Deployment transaction ".concat(a," created in ").concat(performance.now()-te," ms")),self.postMessage({type:"DEPLOY_TRANSACTION_COMPLETED",deployTransaction:a}),e.next=27;break;case 23:e.prev=23,e.t1=e.catch(0),console.log(e.t1),self.postMessage({type:"ERROR",errorMessage:e.t1.toString()});case 27:return e.prev=27,v.setHost(p),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30],[4,10]])})))()}else if("ALEO_SPLIT"===e.data.type){var ne=e.data,ae=ne.splitAmount,oe=ne.record,ie=ne.privateKey,se=ne.url;console.log("Web worker: Creating split...");var ce=performance.now();u(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof se&&v.setHost(se),e.next=4,v.split(ae,oe,n.PrivateKey.from_string(ie));case 4:r=e.sent,console.log("Web worker: Split transaction ".concat(r," created in ").concat(performance.now()-ce," ms")),self.postMessage({type:"SPLIT_TRANSACTION_COMPLETED",splitTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}else if("ALEO_JOIN"===e.data.type){var qe=e.data,fe=qe.recordOne,he=qe.recordTwo,le=qe.fee,ue=qe.privateFee,pe=qe.feeRecord,ye=qe.privateKey,ve=qe.url;console.log("Web worker: Creating join...");var ge=performance.now();u(h().mark((function e(){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"string"==typeof ve&&v.setHost(ve),e.next=4,v.join(fe,he,le,ue,void 0,pe,n.PrivateKey.from_string(ye));case 4:r=e.sent,console.log("Web worker: Join transaction ".concat(r," created in ").concat(performance.now()-ge," ms")),self.postMessage({type:"JOIN_TRANSACTION_COMPLETED",joinTransaction:r}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),self.postMessage({type:"ERROR",errorMessage:e.t0.toString()});case 13:return e.prev=13,v.setHost(p),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}})),r()}catch(d){r(d)}}),1)}}]);
//# sourceMappingURL=383.bundle.js.map